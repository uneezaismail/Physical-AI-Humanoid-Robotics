---
title: "Ø¨Ø§Ø¨ 5: NodesØŒ TopicsØŒ Services - ROS2 Ú©Û’ Ø¨Ù†ÛŒØ§Ø¯ÛŒ Ø¨Ù„ÚˆÙ†Ú¯ Ø¨Ù„Ø§Ú©Ø³"
description: "ROS2 Ú©Û’ Ø¨Ù†ÛŒØ§Ø¯ÛŒ building blocks Ú©Û’ Ø·ÙˆØ± Ù¾Ø± nodesØŒ topicsØŒ servicesØŒ Ø§ÙˆØ± actions Ú©Ùˆ Ø³Ù…Ø¬Ú¾Ù†Ø§ ÙˆØ§Ø¶Ø­ ÙˆØ¶Ø§Ø­ØªÙˆÚº Ø§ÙˆØ± Ø­Ù‚ÛŒÙ‚ÛŒ Ø¯Ù†ÛŒØ§ Ú©ÛŒ Ù…Ø«Ø§Ù„ÙˆÚº Ú©Û’ Ø³Ø§ØªÚ¾"
learning_outcomes:
  - "ROS2 nodes Ú©ÛŒ structure Ø§ÙˆØ± lifecycle Ø§ÙˆØ± ÙØ²ÛŒÚ©Ù„ AI systems Ù…ÛŒÚº Ø§Ù† Ú©Û’ Ú©Ø±Ø¯Ø§Ø± Ú©ÛŒ ÙˆØ¶Ø§Ø­Øª Ú©Ø±ÛŒÚº"  # ÛŒØ§Ø¯ Ø±Ú©Ú¾Ù†Û’ Ú©ÛŒ Ø³Ø·Ø­
  - "topics Ú©Û’ Ù„ÛŒÛ’ publish-subscribe pattern Ø§ÙˆØ± Ù…Ø®ØªÙ„Ù QoS profiles Ú©Û’ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©ÛŒ ØªØ´Ø±ÛŒØ­ Ú©Ø±ÛŒÚº"  # Ø³Ù…Ø¬Ú¾Ù†Û’ Ú©ÛŒ Ø³Ø·Ø­
  - "ÙØ²ÛŒÚ©Ù„ AI applications Ú©Û’ Ù„ÛŒÛ’ topicsØŒ servicesØŒ Ø§ÙˆØ± actions Ú©Û’ Ø°Ø±ÛŒØ¹Û’ communicate Ú©Ø±Ù†Û’ ÙˆØ§Ù„Û’ nodes implement Ú©Ø±ÛŒÚº"  # Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©ÛŒ Ø³Ø·Ø­
  - "robotic systems Ù…ÛŒÚº Ù…Ø®ØªÙ„Ù communication patterns Ú©Û’ Ø¯Ø±Ù…ÛŒØ§Ù† trade-offs Ú©Ø§ ØªØ¬Ø²ÛŒÛ Ú©Ø±ÛŒÚº"  # ØªØ¬Ø²ÛŒÛ Ú©ÛŒ Ø³Ø·Ø­
  - "Ù…Ø®ØµÙˆØµ robotic tasks Ø§ÙˆØ± requirements Ú©Û’ Ù„ÛŒÛ’ Ù…Ù†Ø§Ø³Ø¨ communication patterns Ú©Ø§ Ø§Ù†Ø¯Ø§Ø²Û Ù„Ú¯Ø§Ø¦ÛŒÚº"  # ØªØ´Ø®ÛŒØµ Ú©ÛŒ Ø³Ø·Ø­
prerequisites:
  - "Ø¨Ø§Ø¨ 1: Embodied AI Ú©Û’ ØªØµÙˆØ±Ø§Øª"
  - "Ø¨Ø§Ø¨ 2: ÛØ§Ø±ÚˆÙˆÛŒØ¦Ø± Ø³ÛŒÙ¹ Ø§Ù¾ Ø§ÙˆØ± ØªØµØ¯ÛŒÙ‚"
  - "Ø¨Ø§Ø¨ 3: ØªÛŒÙ† Ø¯Ø±Ø¬Û’ Ú©ÛŒ Ø¢Ø±Ú©ÛŒÙ¹ÛŒÚ©Ú†Ø±"
  - "Ø¨Ø§Ø¨ 4: ROS2 Ø¢Ø±Ú©ÛŒÙ¹ÛŒÚ©Ú†Ø±"
  - "distributed systems Ø§ÙˆØ± Python programming Ú©ÛŒ Ø¨Ù†ÛŒØ§Ø¯ÛŒ Ø³Ù…Ø¬Ú¾"
---

import ExerciseBlock from '@site/src/components/Learning/ExerciseBlock';
import Quiz from '@site/src/components/Learning/Quiz';

## ØªØ¹Ø§Ø±Ù

Ù¾Ú†Ú¾Ù„Û’ Ø¨Ø§Ø¨ Ù…ÛŒÚºØŒ ÛÙ… Ù†Û’ ROS2 Ú©ÛŒ Ù…Ø¬Ù…ÙˆØ¹ÛŒ Ø¢Ø±Ú©ÛŒÙ¹ÛŒÚ©Ú†Ø± Ú©Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ú©ÛŒØ§ Ø§ÙˆØ± Ø³ÛŒÚ©Ú¾Ø§ Ú©Û ÛŒÛ Ú©ÛŒØ³Û’ ÙØ²ÛŒÚ©Ù„ AI systems Ú©Û’ Ù„ÛŒÛ’ Ø§Ø¹ØµØ§Ø¨ÛŒ Ù†Ø¸Ø§Ù… Ú©Û’ Ø·ÙˆØ± Ù¾Ø± Ú©Ø§Ù… Ú©Ø±ØªÛŒ ÛÛ’Û” Ø§Ø¨ØŒ ÛÙ… Ø§Ù† Ø¨Ù†ÛŒØ§Ø¯ÛŒ building blocks Ù…ÛŒÚº Ú¯ÛØ±Ø§Ø¦ÛŒ Ø³Û’ Ø¬Ø§Ø¦ÛŒÚº Ú¯Û’ Ø¬Ùˆ Ø§Ø³ Ø§Ø¹ØµØ§Ø¨ÛŒ Ù†Ø¸Ø§Ù… Ú©Ùˆ Ø¨Ù†Ø§ØªÛ’ ÛÛŒÚº: nodesØŒ topicsØŒ servicesØŒ Ø§ÙˆØ± actionsÛ” Ø§Ù† components Ú©Ùˆ Ø§Ù¾Ù†Û’ Ø§Ø¹ØµØ§Ø¨ÛŒ Ù†Ø¸Ø§Ù… Ù…ÛŒÚº Ø¨Ù†ÛŒØ§Ø¯ÛŒ cell types Ú©Û’ Ø·ÙˆØ± Ù¾Ø± Ø³Ù…Ø¬Ú¾ÛŒÚº - neuronsØŒ synapsesØŒ Ø§ÙˆØ± neural pathways Ø¬Ùˆ Ø³Ø§Ø¯Û interactions Ú©Û’ Ø°Ø±ÛŒØ¹Û’ Ù¾ÛŒÚ†ÛŒØ¯Û behaviors Ú©Ùˆ Ù…Ù…Ú©Ù† Ø¨Ù†Ø§ØªÛ’ ÛÛŒÚºÛ”

Nodes Ø¨Ù†ÛŒØ§Ø¯ÛŒ processing units ÛÛŒÚº Ø¬Ùˆ Ù…Ø®ØµÙˆØµ functions Ø§Ù†Ø¬Ø§Ù… Ø¯ÛŒØªÛ’ ÛÛŒÚºØŒ topics Ø§Ù†ÛÛŒÚº Ù…Ø³Ù„Ø³Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª share Ú©Ø±Ù†Û’ Ø¯ÛŒØªÛ’ ÛÛŒÚºØŒ services synchronous request-response interactions ÙØ±Ø§ÛÙ… Ú©Ø±ØªÛŒ ÛÛŒÚºØŒ Ø§ÙˆØ± actions feedback Ú©Û’ Ø³Ø§ØªÚ¾ long-running operations Ø³Ù†Ø¨Ú¾Ø§Ù„ØªÛ’ ÛÛŒÚºÛ” ÛŒÛ Ø¨Ø§Ø¨ Ø¢Ù¾ Ú©Ùˆ Ø¯Ú©Ú¾Ø§Ø¦Û’ Ú¯Ø§ Ú©Û Ø§Ù† building blocks Ú©Ùˆ Ù…Ø¤Ø«Ø± Ø·Ø±ÛŒÙ‚Û’ Ø³Û’ Ú©ÛŒØ³Û’ Ø¨Ù†Ø§ÛŒØ§ Ø§ÙˆØ± Ø¬ÙˆÚ‘Ø§ Ø¬Ø§Ø¦Û’ØŒ Ø­Ù‚ÛŒÙ‚ÛŒ Ø¯Ù†ÛŒØ§ Ú©ÛŒ analogies Ø§ÙˆØ± Ù…Ø«Ø§Ù„ÙˆÚº Ú©Ø§ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ØªÛ’ ÛÙˆØ¦Û’ ØªØµÙˆØ±Ø§Øª Ú©Ùˆ ÙˆØ§Ø¶Ø­ Ø§ÙˆØ± Ù‚Ø§Ø¨Ù„ ÙÛÙ… Ø¨Ù†Ø§Ù†Û’ Ú©Û’ Ù„ÛŒÛ’Û” Ø¬ÛŒØ³Û’ biological systems Ø³Ø§Ø¯Û components Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø± Ú©Û’ Ù¾ÛŒÚ†ÛŒØ¯Û behaviors Ø¨Ù†Ø§ØªÛ’ ÛÛŒÚºØŒ ÙˆÛŒØ³Û’ ÛÛŒ ROS2 Ø§Ù† Ø¨Ù†ÛŒØ§Ø¯ÛŒ building blocks Ú©Ùˆ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø± Ú©Û’ sophisticated robotic systems Ø¨Ù†Ø§ØªØ§ ÛÛ’Û”

## Ø³ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù…Ù‚Ø§ØµØ¯

Ø§Ø³ Ø¨Ø§Ø¨ Ú©Ùˆ Ù…Ú©Ù…Ù„ Ú©Ø±Ù†Û’ Ú©Û’ Ø¨Ø¹Ø¯ØŒ Ø¢Ù¾ Ù‚Ø§Ø¨Ù„ ÛÙˆÚº Ú¯Û’:
- ROS2 nodes Ú©ÛŒ structure Ø§ÙˆØ± lifecycle Ø§ÙˆØ± ÙØ²ÛŒÚ©Ù„ AI systems Ù…ÛŒÚº Ø§Ù† Ú©Û’ Ú©Ø±Ø¯Ø§Ø± Ú©ÛŒ ÙˆØ¶Ø§Ø­Øª Ú©Ø±ÛŒÚº
- topics Ú©Û’ Ù„ÛŒÛ’ publish-subscribe pattern Ø§ÙˆØ± Ù…Ø®ØªÙ„Ù QoS profiles Ú©Û’ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©ÛŒ ØªØ´Ø±ÛŒØ­ Ú©Ø±ÛŒÚº
- ÙØ²ÛŒÚ©Ù„ AI applications Ú©Û’ Ù„ÛŒÛ’ topicsØŒ servicesØŒ Ø§ÙˆØ± actions Ú©Û’ Ø°Ø±ÛŒØ¹Û’ communicate Ú©Ø±Ù†Û’ ÙˆØ§Ù„Û’ nodes implement Ú©Ø±ÛŒÚº
- robotic systems Ù…ÛŒÚº Ù…Ø®ØªÙ„Ù communication patterns Ú©Û’ Ø¯Ø±Ù…ÛŒØ§Ù† trade-offs Ú©Ø§ ØªØ¬Ø²ÛŒÛ Ú©Ø±ÛŒÚº
- Ù…Ø®ØµÙˆØµ robotic tasks Ø§ÙˆØ± requirements Ú©Û’ Ù„ÛŒÛ’ Ù…Ù†Ø§Ø³Ø¨ communication patterns Ú©Ø§ Ø§Ù†Ø¯Ø§Ø²Û Ù„Ú¯Ø§Ø¦ÛŒÚº

## ÛÚ©

ØºÙˆØ± Ú©Ø±ÛŒÚº Ú©Û robot Ú©Ø§ perception system Ú©ÛŒØ³Û’ camera images process Ú©Ø±ØªØ§ ÛÛ’ØŒ objects Ú©ÛŒ Ø´Ù†Ø§Ø®Øª Ú©Ø±ØªØ§ ÛÛ’ØŒ Ø§ÙˆØ± Ø§Ø³ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ú©Ùˆ navigation Ø§ÙˆØ± manipulation systems Ú©Û’ Ø³Ø§ØªÚ¾ share Ú©Ø±ØªØ§ ÛÛ’Û” Camera driver node images Ú©Ùˆ Ø§ÛŒÚ© topic Ù…ÛŒÚº publish Ú©Ø±ØªØ§ ÛÛ’ØŒ perception node Ø§Ù† images Ú©Ùˆ subscribe Ø§ÙˆØ± process Ú©Ø±ØªØ§ ÛÛ’ØŒ Ù¾Ú¾Ø± object detections Ú©Ùˆ Ø¯ÙˆØ³Ø±Û’ topic Ù…ÛŒÚº publish Ú©Ø±ØªØ§ ÛÛ’ Ø¬Ø³Û’ Ù…ØªØ¹Ø¯Ø¯ Ø¯ÙˆØ³Ø±Û’ nodes Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø± Ø³Ú©ØªÛ’ ÛÛŒÚºÛ” Ø¬Ø¨ navigation system Ú©Ùˆ robot Ú©ÛŒ Ù…ÙˆØ¬ÙˆØ¯Û position Ø¬Ø§Ù†Ù†Û’ Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª ÛÙˆØŒ ÛŒÛ localization system Ú©Ùˆ service call Ú©Ø±ØªØ§ ÛÛ’Û” Ø¬Ø¨ robot Ú©Ùˆ Ú©Ø³ÛŒ Ù…Ø®ØµÙˆØµ location Ù¾Ø± navigate Ú©Ø±Ù†Û’ Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª ÛÙˆØŒ ÛŒÛ navigation system Ú©Ùˆ action goal Ø¨Ú¾ÛŒØ¬ØªØ§ ÛÛ’ Ø§ÙˆØ± progress Ú©Û’ Ø¨Ø§Ø±Û’ Ù…ÛŒÚº continuous feedback ÙˆØµÙˆÙ„ Ú©Ø±ØªØ§ ÛÛ’Û” ÛŒÛ Ù¾ÛŒÚ†ÛŒØ¯Û orchestration nodesØŒ topicsØŒ servicesØŒ Ø§ÙˆØ± actions Ú©Û’ Ø¨Ù†ÛŒØ§Ø¯ÛŒ building blocks Ú©Û’ Ø°Ø±ÛŒØ¹Û’ ÛÙˆØªØ§ ÛÛ’ Ø¬Ùˆ biological system Ù…ÛŒÚº specialized cells Ú©ÛŒ Ø·Ø±Ø­ Ù…Ù„ Ú©Ø± Ú©Ø§Ù… Ú©Ø±ØªÛ’ ÛÛŒÚºÛ” Ø§Ù† building blocks Ú©Ùˆ Ù…Ù†Ø§Ø³Ø¨ Ø·Ø±ÛŒÙ‚Û’ Ø³Û’ design Ø§ÙˆØ± connect Ú©Ø±Ù†Ø§ Ø³Ù…Ø¬Ú¾Ù†Ø§ Ù…Ø¶Ø¨ÙˆØ· Ø§ÙˆØ± maintainable robotic systems Ø¨Ù†Ø§Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ø¶Ø±ÙˆØ±ÛŒ ÛÛ’Û”

<div className="key-takeaway">
### Ø§Ø³ Ø³Û’ Ù¾ÛÙ„Û’ Ú©Û Ø¢Ù¾ ÛŒÛ Ø³ÛŒÚ©Ú¾ÛŒÚº...
- Nodes ROS2 Ù…ÛŒÚº Ø¨Ù†ÛŒØ§Ø¯ÛŒ processing units ÛÛŒÚº Ø¬Ùˆ Ù…Ø®ØµÙˆØµ functions Ø§Ù†Ø¬Ø§Ù… Ø¯ÛŒØªÛ’ ÛÛŒÚº
- Topics Ù…Ø³Ù„Ø³Ù„ data sharing Ú©Û’ Ù„ÛŒÛ’ publish-subscribe pattern Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ØªÛ’ ÛÛŒÚº
- Services synchronous operations Ú©Û’ Ù„ÛŒÛ’ request-response communication ÙØ±Ø§ÛÙ… Ú©Ø±ØªÛŒ ÛÛŒÚº
- Actions feedback Ø§ÙˆØ± goal management Ú©Û’ Ø³Ø§ØªÚ¾ long-running operations Ø³Ù†Ø¨Ú¾Ø§Ù„ØªÛ’ ÛÛŒÚº
- QoS profiles reliabilityØŒ durabilityØŒ Ø§ÙˆØ± Ø¯ÛŒÚ¯Ø± communication characteristics Ú©Ùˆ control Ú©Ø±ØªÛ’ ÛÛŒÚº
</div>

<div className="common-misconception">
### Ø¹Ø§Ù… ØºÙ„Ø· ÙÛÙ…ÛŒ...
**Ø§ÙØ³Ø§Ù†Û**: ØªÙ…Ø§Ù… ROS2 communication Ú©Ùˆ topics Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±Ù†Ø§ Ú†Ø§ÛÛŒÛ’ Ú©ÛŒÙˆÙ†Ú©Û ÙˆÛ Ø³Ø¨ Ø³Û’ Ø¹Ø§Ù… pattern ÛÛŒÚºÛ”
**Ø­Ù‚ÛŒÙ‚Øª**: Ù…Ø®ØªÙ„Ù communication patterns (topicsØŒ servicesØŒ actions) timing requirementsØŒ data flowØŒ Ø§ÙˆØ± interaction patterns Ú©ÛŒ Ø¨Ù†ÛŒØ§Ø¯ Ù¾Ø± Ù…Ø®ØªÙ„Ù use cases Ú©Û’ Ù„ÛŒÛ’ Ù…Ù†Ø§Ø³Ø¨ ÛÛŒÚºÛ”
</div>

## ØªØµÙˆØ±

NodesØŒ topicsØŒ servicesØŒ Ø§ÙˆØ± actions ROS2 communication Ú©Û’ Ø¨Ù†ÛŒØ§Ø¯ÛŒ building blocks Ø¨Ù†Ø§ØªÛ’ ÛÛŒÚºØŒ ÛØ± Ø§ÛŒÚ© robotic systems Ù…ÛŒÚº Ù…Ø®ØµÙˆØµ interaction patterns Ú©Û’ Ù„ÛŒÛ’ design Ú©ÛŒØ§ Ú¯ÛŒØ§Û” Ø§Ù†ÛÛŒÚº biological system Ù…ÛŒÚº specialized components Ú©ÛŒ Ø·Ø±Ø­ Ø³Ù…Ø¬Ú¾ÛŒÚº Ø¬ÛØ§Úº Ù…Ø®ØªÙ„Ù cell types Ù…Ø®ØªÙ„Ù functions Ø§Ù†Ø¬Ø§Ù… Ø¯ÛŒØªÛŒ ÛÛŒÚºÛ”

### Nodes: Processing Units

Nodes ROS2 Ù…ÛŒÚº Ø¨Ù†ÛŒØ§Ø¯ÛŒ processing units ÛÛŒÚºØŒ biological Ø§Ø¹ØµØ§Ø¨ÛŒ Ù†Ø¸Ø§Ù… Ù…ÛŒÚº neurons Ú©ÛŒ Ø·Ø±Ø­Û” ÛØ± node Ø§ÛŒÚ© Ù…Ø®ØµÙˆØµ function Ø§Ù†Ø¬Ø§Ù… Ø¯ÛŒØªØ§ ÛÛ’ Ø§ÙˆØ± ROS2 middleware Ú©Û’ Ø°Ø±ÛŒØ¹Û’ Ø¯ÙˆØ³Ø±Û’ nodes Ú©Û’ Ø³Ø§ØªÚ¾ communicate Ú©Ø±ØªØ§ ÛÛ’Û” Nodes Ú©ÛŒ Ú©Ù„ÛŒØ¯ÛŒ Ø®ØµÙˆØµÛŒØ§Øª Ù…ÛŒÚº Ø´Ø§Ù…Ù„ ÛÛŒÚº:

**Single Responsibility**: Ø¢Ù¾ Ú©Û’ Ø¬Ø³Ù… Ù…ÛŒÚº specialized cells Ú©ÛŒ Ø·Ø±Ø­ØŒ ÛØ± node Ú©Ø§ Ø§ÛŒÚ© ÙˆØ§Ø­Ø¯ØŒ Ø§Ú†Ú¾ÛŒ Ø·Ø±Ø­ Ù…ØªØ¹ÛŒÙ† Ù…Ù‚ØµØ¯ ÛÙˆÙ†Ø§ Ú†Ø§ÛÛŒÛ’Û” Camera driver node ØµØ±Ù camera data Ø³Ù†Ø¨Ú¾Ø§Ù„ØªØ§ ÛÛ’ØŒ localization node ØµØ±Ù position estimation Ø³Ù†Ø¨Ú¾Ø§Ù„ØªØ§ ÛÛ’ØŒ ÙˆØºÛŒØ±ÛÛ”

**Lifecycle Management**: Nodes Ú©ÛŒ Ø§ÛŒÚ© lifecycle ÛÛ’ Ø¬Ø³ Ù…ÛŒÚº initializationØŒ runningØŒ Ø§ÙˆØ± cleanup phases Ø´Ø§Ù…Ù„ ÛÛŒÚºÛ” Initialization Ú©Û’ Ø¯ÙˆØ±Ø§Ù†ØŒ nodes publishersØŒ subscribersØŒ servicesØŒ Ø§ÙˆØ± actions Ø¨Ù†Ø§ØªÛ’ ÛÛŒÚºÛ” Running phase Ú©Û’ Ø¯ÙˆØ±Ø§Ù†ØŒ ÙˆÛ data process Ú©Ø±ØªÛ’ ÛÛŒÚº Ø§ÙˆØ± Ø¯ÙˆØ³Ø±Û’ nodes Ú©Û’ Ø³Ø§ØªÚ¾ communicate Ú©Ø±ØªÛ’ ÛÛŒÚºÛ” Cleanup Ú©Û’ Ø¯ÙˆØ±Ø§Ù†ØŒ ÙˆÛ resources Ú©Ùˆ Ù…Ù†Ø§Ø³Ø¨ Ø·Ø±ÛŒÙ‚Û’ Ø³Û’ release Ú©Ø±ØªÛ’ ÛÛŒÚºÛ”

**Resource Management**: Nodes Ø§Ù¾Ù†Û’ resources manage Ú©Ø±ØªÛ’ ÛÛŒÚº Ø¨Ø´Ù…ÙˆÙ„ timersØŒ callbacksØŒ Ø§ÙˆØ± communication endpointsÛ” Ø§Ù†ÛÛŒÚº memory leaks Ú©Ùˆ Ø±ÙˆÚ©Ù†Û’ Ø§ÙˆØ± system stability ÛŒÙ‚ÛŒÙ†ÛŒ Ø¨Ù†Ø§Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ø§Ù† resources Ú©Ùˆ Ù…Ù†Ø§Ø³Ø¨ Ø·Ø±ÛŒÙ‚Û’ Ø³Û’ initialize Ø§ÙˆØ± clean up Ú©Ø±Ù†Ø§ Ø¶Ø±ÙˆØ±ÛŒ ÛÛ’Û”

### Topics: Ù…Ø³Ù„Ø³Ù„ Data Sharing (Publish-Subscribe)

Topics publish-subscribe communication pattern implement Ú©Ø±ØªÛ’ ÛÛŒÚºØŒ Ù…Ø³Ù„Ø³Ù„ data streams Ú©Û’ Ù„ÛŒÛ’ Ù…Ø«Ø§Ù„ÛŒ Ø¬ÛØ§Úº Ù…ØªØ¹Ø¯Ø¯ nodes Ú©Ùˆ Ø§ÛŒÚ© ÛÛŒ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª ÛÙˆÛ” ÛŒÛ sensory neurons Ú©ÛŒ Ø·Ø±Ø­ ÛÛ’ Ø¬Ùˆ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ú©Ùˆ Ø¢Ù¾ Ú©Û’ Ø¯Ù…Ø§Øº Ù…ÛŒÚº Ù…ØªØ¹Ø¯Ø¯ processing centers Ù…ÛŒÚº broadcast Ú©Ø±ØªÛ’ ÛÛŒÚºÛ”

**Publishers Ø§ÙˆØ± Subscribers**: Publishers data Ú©Ùˆ topics Ù…ÛŒÚº Ø¨Ú¾ÛŒØ¬ØªÛ’ ÛÛŒÚºØŒ Ø§ÙˆØ± subscribers topics Ø³Û’ data ÙˆØµÙˆÙ„ Ú©Ø±ØªÛ’ ÛÛŒÚºÛ” Ù…ØªØ¹Ø¯Ø¯ publishers Ø§ÛŒÚ© ÛÛŒ topic Ù…ÛŒÚº Ø¨Ú¾ÛŒØ¬ Ø³Ú©ØªÛ’ ÛÛŒÚº (Ø§Ú¯Ø±Ú†Û ÛŒÛ Ú©Ù… Ø¹Ø§Ù… ÛÛ’)ØŒ Ø§ÙˆØ± Ù…ØªØ¹Ø¯Ø¯ subscribers Ø§ÛŒÚ© ÛÛŒ topic Ø³Û’ ÙˆØµÙˆÙ„ Ú©Ø± Ø³Ú©ØªÛ’ ÛÛŒÚº (Ø¨ÛØª Ø¹Ø§Ù…)Û”

**Asynchronous Communication**: Topic communication asynchronous ÛÛ’ - publishers subscribers Ø³Û’ responses Ú©Ø§ Ø§Ù†ØªØ¸Ø§Ø± Ù†ÛÛŒÚº Ú©Ø±ØªÛ’ØŒ Ø§ÙˆØ± subscribers Ú©Ùˆ ÛŒÛ Ø¬Ø§Ù†Ù†Û’ Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª Ù†ÛÛŒÚº Ú©Û data Ú©Ø³ Ù†Û’ publish Ú©ÛŒØ§Û” ÛŒÛ nodes Ú©Û’ Ø¯Ø±Ù…ÛŒØ§Ù† loose coupling Ú©Ùˆ Ù…Ù…Ú©Ù† Ø¨Ù†Ø§ØªØ§ ÛÛ’Û”

**Message Types**: ÛØ± topic Ú©ÛŒ Ø§ÛŒÚ© Ù…Ø®ØµÙˆØµ message type ÛÛ’ Ø¬Ùˆ data Ú©ÛŒ structure Ú©ÛŒ ÙˆØ¶Ø§Ø­Øª Ú©Ø±ØªÛŒ ÛÛ’ Ø¬Ùˆ Ø¨Ú¾ÛŒØ¬ÛŒ Ø¬Ø§ Ø³Ú©ØªÛŒ ÛÛ’Û” ÛŒÛ nodes Ú©Û’ Ø¯Ø±Ù…ÛŒØ§Ù† type safety Ø§ÙˆØ± predictable communication ÛŒÙ‚ÛŒÙ†ÛŒ Ø¨Ù†Ø§ØªØ§ ÛÛ’Û”

**Quality of Service (QoS) Settings**: Topics Ù…ÛŒÚº Ù…Ø®ØªÙ„Ù QoS profiles ÛÙˆ Ø³Ú©ØªÛ’ ÛÛŒÚº Ø¬Ùˆ reliabilityØŒ durabilityØŒ historyØŒ Ø§ÙˆØ± Ø¯ÛŒÚ¯Ø± Ø®ØµÙˆØµÛŒØ§Øª Ú©Ùˆ control Ú©Ø±ØªÛ’ ÛÛŒÚºÛ” Ù…Ø«Ø§Ù„ Ú©Û’ Ø·ÙˆØ± Ù¾Ø±ØŒ sensor data best-effort reliability Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø± Ø³Ú©ØªØ§ ÛÛ’ Ø¬Ø¨Ú©Û critical safety data reliable delivery Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø± Ø³Ú©ØªØ§ ÛÛ’Û”

### Services: Synchronous Request-Response

Services synchronous request-response communication ÙØ±Ø§ÛÙ… Ú©Ø±ØªÛŒ ÛÛŒÚºØŒ Ø§Ù† operations Ú©Û’ Ù„ÛŒÛ’ Ù…Ø«Ø§Ù„ÛŒ Ø¬Ù† Ú©Ùˆ ÙÙˆØ±ÛŒ responses Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª ÛÛ’Û” ÛŒÛ Ú©ÙˆØ¦ÛŒ Ù…Ø®ØµÙˆØµ Ø³ÙˆØ§Ù„ Ù¾ÙˆÚ†Ú¾Ù†Û’ Ø§ÙˆØ± Ø¬ÙˆØ§Ø¨ Ú©Ø§ Ø§Ù†ØªØ¸Ø§Ø± Ú©Ø±Ù†Û’ Ú©ÛŒ Ø·Ø±Ø­ ÛÛ’ØŒ ÙÙˆØ±ÛŒ responses Ú©Û’ Ù„ÛŒÛ’ direct neural pathway Ú©ÛŒ Ø·Ø±Ø­Û”

**Client-Server Model**: Service clients servers Ú©Ùˆ requests Ø¨Ú¾ÛŒØ¬ØªÛ’ ÛÛŒÚºØŒ Ø¬Ùˆ requests process Ú©Ø±ØªÛ’ ÛÛŒÚº Ø§ÙˆØ± responses ÙˆØ§Ù¾Ø³ Ú©Ø±ØªÛ’ ÛÛŒÚºÛ” Client response Ú©Ø§ Ø§Ù†ØªØ¸Ø§Ø± Ú©Ø±ØªØ§ ÛÛ’ Ù¾ÛÙ„Û’ Ø¬Ø§Ø±ÛŒ Ø±ÛÛ’ØŒ Ø§Ø³Û’ blocking operation Ø¨Ù†Ø§ØªÛ’ ÛÙˆØ¦Û’Û”

**Synchronous Processing**: Service calls synchronous ÛÛŒÚº - client server Ú©Û’ request process Ú©Ø±Ù†Û’ Ø§ÙˆØ± response ÙˆØ§Ù¾Ø³ Ú©Ø±Ù†Û’ Ú©Ø§ Ø§Ù†ØªØ¸Ø§Ø± Ú©Ø±ØªØ§ ÛÛ’Û” ÛŒÛ Ø§Ù† operations Ú©Û’ Ù„ÛŒÛ’ Ù…Ù†Ø§Ø³Ø¨ ÛÛ’ Ø¬Ù† Ú©Ùˆ Ø¬Ø§Ø±ÛŒ Ø±ÛÙ†Û’ Ø³Û’ Ù¾ÛÙ„Û’ guaranteed completion Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª ÛÛ’Û”

**Error Handling**: Services Ù…ÛŒÚº built-in error handling mechanisms Ø´Ø§Ù…Ù„ ÛÛŒÚºØŒ servers Ú©Ùˆ operations Ù†Ø§Ú©Ø§Ù… ÛÙˆÙ†Û’ Ù¾Ø± error codes Ø§ÙˆØ± messages ÙˆØ§Ù¾Ø³ Ú©Ø±Ù†Û’ Ø¯ÛŒØªÛ’ ÛÛŒÚºÛ”

### Actions: Feedback Ú©Û’ Ø³Ø§ØªÚ¾ Long-Running Operations

Actions long-running operations Ø³Ù†Ø¨Ú¾Ø§Ù„ØªÛ’ ÛÛŒÚº Ø¬Ù† Ú©Ùˆ ongoing feedback Ø§ÙˆØ± goal management Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª ÛÛ’Û” ÛŒÛ Ù¾ÛŒÚ†ÛŒØ¯Û motor patterns Ú©ÛŒ Ø·Ø±Ø­ ÛÛ’ Ø¬Ù† Ú©Ùˆ continuous monitoring Ø§ÙˆØ± adjustment Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª ÛÛ’ØŒ Ø¬ÛŒØ³Û’ Ú©Ø³ÛŒ Ù…Ø®ØµÙˆØµ location Ù¾Ø± Ú†Ù„Ù†Ø§Û”

**Goal-Feedback-Result Pattern**: Actions ØªÛŒÙ† Ø­ØµÙˆÚº Ú©Û’ pattern Ú©ÛŒ Ù¾ÛŒØ±ÙˆÛŒ Ú©Ø±ØªÛ’ ÛÛŒÚº: clients servers Ú©Ùˆ goals Ø¨Ú¾ÛŒØ¬ØªÛ’ ÛÛŒÚºØŒ servers execution Ú©Û’ Ø¯ÙˆØ±Ø§Ù† continuous feedback ÙØ±Ø§ÛÙ… Ú©Ø±ØªÛ’ ÛÛŒÚºØŒ Ø§ÙˆØ± servers Ù…Ú©Ù…Ù„ ÛÙˆÙ†Û’ Ù¾Ø± final results ÙˆØ§Ù¾Ø³ Ú©Ø±ØªÛ’ ÛÛŒÚºÛ”

**Non-blocking Operations**: Services Ú©Û’ Ø¨Ø±Ø¹Ú©Ø³ØŒ action clients completion Ú©Ø§ Ø§Ù†ØªØ¸Ø§Ø± Ú©Ø±ØªÛ’ ÛÙˆØ¦Û’ block Ù†ÛÛŒÚº Ú©Ø±ØªÛ’Û” ÙˆÛ operation Ú©ÛŒ progress Ú©Û’ Ø¨Ø§Ø±Û’ Ù…ÛŒÚº feedback ÙˆØµÙˆÙ„ Ú©Ø±ØªÛ’ ÛÙˆØ¦Û’ processing Ø¬Ø§Ø±ÛŒ Ø±Ú©Ú¾ Ø³Ú©ØªÛ’ ÛÛŒÚºÛ”

**Cancelation Support**: Actions goal cancelation Ú©Ùˆ support Ú©Ø±ØªÛ’ ÛÛŒÚºØŒ clients Ú©Ùˆ Ø¶Ø±ÙˆØ±Øª Ù¾Ú‘Ù†Û’ Ù¾Ø± long-running operations Ø±ÙˆÚ©Ù†Û’ Ø¯ÛŒØªÛ’ ÛÛŒÚºÛ”

**Goal Status Tracking**: Actions goals Ú©Û’ Ø¨Ø§Ø±Û’ Ù…ÛŒÚº status information ÙØ±Ø§ÛÙ… Ú©Ø±ØªÛ’ ÛÛŒÚºØŒ clients Ú©Ùˆ ÛŒÛ Ø¬Ø§Ù†Ù†Û’ Ø¯ÛŒØªÛ’ ÛÛŒÚº Ú©Û goals pendingØŒ executingØŒ succeededØŒ ÛŒØ§ failed ÛÛŒÚºÛ”

### Communication Pattern Ú©Ø§ Ø§Ù†ØªØ®Ø§Ø¨: Ú©Ø¨ Ú©ÛŒØ§ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚº

Ù…Ø¤Ø«Ø± robotic system design Ú©Û’ Ù„ÛŒÛ’ ØµØ­ÛŒØ­ communication pattern Ú©Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ø§ÛÙ… ÛÛ’:

**Topics Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚº Ø¬Ø¨**:
- Ù…ØªØ¹Ø¯Ø¯ nodes Ú©Ùˆ Ø§ÛŒÚ© ÛÛŒ data Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª ÛÙˆ (sensor streamsØŒ state information)
- Data Ù…Ø³Ù„Ø³Ù„ generate Ø§ÙˆØ± consume ÛÙˆ Ø±ÛØ§ ÛÙˆ
- Asynchronous communication Ù‚Ø§Ø¨Ù„ Ù‚Ø¨ÙˆÙ„ ÛÙˆ
- Nodes Ú©Û’ Ø¯Ø±Ù…ÛŒØ§Ù† loose coupling Ù…Ø·Ù„ÙˆØ¨ ÛÙˆ

**Services Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚº Ø¬Ø¨**:
- Synchronous request-response Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª ÛÙˆ
- Operations Ù†Ø³Ø¨ØªØ§Ù‹ ØªÛŒØ² ÛÙˆÚº (Ú†Ù†Ø¯ seconds Ú©Û’ Ø§Ù†Ø¯Ø±)
- Error handling Ø§ÛÙ… ÛÙˆ
- One-to-one communication Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª ÛÙˆ

**Actions Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚº Ø¬Ø¨**:
- Operations Ù…Ú©Ù…Ù„ ÛÙˆÙ†Û’ Ù…ÛŒÚº Ù„Ù…Ø¨Ø§ ÙˆÙ‚Øª Ù„ÛŒÚº
- Execution Ú©Û’ Ø¯ÙˆØ±Ø§Ù† continuous feedback Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª ÛÙˆ
- Goal cancelation Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª Ù¾Ú‘ Ø³Ú©ØªÛŒ ÛÙˆ
- Operation Ú©ÛŒ ÙˆØ§Ø¶Ø­ start Ø§ÙˆØ± end state ÛÙˆ

### Quality of Service (QoS) Profiles

QoS profiles topic communication Ú©Û’ behavior Ú©Ùˆ control Ú©Ø±ØªÛ’ ÛÛŒÚºØŒ Ø¢Ù¾ Ú©Ùˆ Ø§Ù¾Ù†ÛŒ application Ú©ÛŒ requirements Ú©ÛŒ Ø¨Ù†ÛŒØ§Ø¯ Ù¾Ø± reliabilityØŒ durabilityØŒ Ø§ÙˆØ± Ø¯ÛŒÚ¯Ø± characteristics specify Ú©Ø±Ù†Û’ Ø¯ÛŒØªÛ’ ÛÛŒÚº:

**Reliability**: Ú©Ù†Ù¹Ø±ÙˆÙ„ Ú©Ø±ØªØ§ ÛÛ’ Ú©Û Ø¢ÛŒØ§ messages Ú©ÛŒ delivery guaranteed ÛÛ’ (RELIABLE) ÛŒØ§ Ú©Ú†Ú¾ loss Ù‚Ø§Ø¨Ù„ Ù‚Ø¨ÙˆÙ„ ÛÛ’ (BEST_EFFORT)Û” Critical safety data Ú©Ùˆ RELIABLE Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±Ù†Ø§ Ú†Ø§ÛÛŒÛ’ØŒ Ø¬Ø¨Ú©Û sensor data BEST_EFFORT Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø± Ø³Ú©ØªØ§ ÛÛ’Û”

**Durability**: Ú©Ù†Ù¹Ø±ÙˆÙ„ Ú©Ø±ØªØ§ ÛÛ’ Ú©Û Ø¢ÛŒØ§ late-joining nodes Ù¾ÛÙ„Û’ published messages ÙˆØµÙˆÙ„ Ú©Ø±ØªÛ’ ÛÛŒÚº (TRANSIENT_LOCAL) ÛŒØ§ ØµØ±Ù Ù†Ø¦Û’ messages (VOLATILE)Û” Parameter information TRANSIENT_LOCAL Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø± Ø³Ú©ØªÛŒ ÛÛ’ ØªØ§Ú©Û Ù†Ø¦Û’ nodes Ù…ÙˆØ¬ÙˆØ¯Û settings Ø­Ø§ØµÙ„ Ú©Ø±ÛŒÚºÛ”

**History**: Ú©Ù†Ù¹Ø±ÙˆÙ„ Ú©Ø±ØªØ§ ÛÛ’ Ú©Û delivery Ú©Û’ Ù„ÛŒÛ’ Ú©ØªÙ†Û’ messages stored ÛÛŒÚº (KEEP_ALL ÛŒØ§ Ù…Ø®ØµÙˆØµ depth Ú©Û’ Ø³Ø§ØªÚ¾ KEEP_LAST)Û” High-frequency sensor data memory usage Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ú†Ú¾ÙˆÙ¹ÛŒ depth Ú©Û’ Ø³Ø§ØªÚ¾ KEEP_LAST Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø± Ø³Ú©ØªØ§ ÛÛ’Û”

### Ø­Ù‚ÛŒÙ‚ÛŒ Ø¯Ù†ÛŒØ§ Ú©ÛŒ Ù…Ø«Ø§Ù„ÛŒÚº Ø§ÙˆØ± Analogies

ROS2 communication patterns Ú©Ùˆ hospital Ù…ÛŒÚº Ù…Ø®ØªÙ„Ù Ù‚Ø³Ù… Ú©ÛŒ communication Ú©ÛŒ Ø·Ø±Ø­ Ø³Ù…Ø¬Ú¾ÛŒÚº: patient monitors Ù…Ø³Ù„Ø³Ù„ vital signs broadcast Ú©Ø±ØªÛ’ ÛÛŒÚº (topics)ØŒ doctors Ù…Ø®ØµÙˆØµ lab results request Ú©Ø±ØªÛ’ ÛÛŒÚº (services)ØŒ Ø§ÙˆØ± Ù¾ÛŒÚ†ÛŒØ¯Û procedures Ø¬ÛŒØ³Û’ surgery surgical team Ú©Ùˆ continuous updates ÙØ±Ø§ÛÙ… Ú©Ø±ØªÛ’ ÛÛŒÚº (actions)Û” ÛØ± pattern Ø§ÛŒÚ© Ù…Ø®ØµÙˆØµ Ù…Ù‚ØµØ¯ Ú©ÛŒ Ø®Ø¯Ù…Øª Ú©Ø±ØªØ§ ÛÛ’ Ø§ÙˆØ± Ù…Ø®ØªÙ„Ù Ù‚Ø³Ù… Ú©Û’ information flow Ú©Û’ Ù„ÛŒÛ’ optimized ÛÛ’Û”

ÛŒØ§ smart home Ù¾Ø± ØºÙˆØ± Ú©Ø±ÛŒÚº: sensors Ù…Ø³Ù„Ø³Ù„ environmental data publish Ú©Ø±ØªÛ’ ÛÛŒÚº (topics)ØŒ Ø¢Ù¾ Ù…Ø®ØµÙˆØµ actions request Ú©Ø±ØªÛ’ ÛÛŒÚº Ø¬ÛŒØ³Û’ lights Ø¢Ù† Ú©Ø±Ù†Ø§ (services)ØŒ Ø§ÙˆØ± Ù¾ÛŒÚ†ÛŒØ¯Û operations Ø¬ÛŒØ³Û’ security monitoring ongoing status updates ÙØ±Ø§ÛÙ… Ú©Ø±ØªÛ’ ÛÛŒÚº (actions)Û”

## Mermaid ÚˆØ§ÛŒØ§Ú¯Ø±Ø§Ù…

<div className="diagram-container" tabIndex={0}>
```mermaid
graph TB
    subgraph "ROS2 Building Blocks - Communication Patterns"
        A[Node: Camera Driver] -->|Topic: /camera/image_raw| B[Node: Image Processing]
        A -->|Topic: /camera/image_raw| C[Node: Object Detection]
        D[Node: Navigation Client] -->|Service: /get_path| E[Node: Path Planner]
        F[Node: Motion Client] -->|Action: /move_to_pose| G[Node: Navigation Server]
        E -->|Response| D
        G -->|Feedback/Result| F
        H[QoS Profiles] -.-> A
        H -.-> B
        H -.-> C
    end

    style A fill:#2d3748
    style B fill:#2d3748
    style C fill:#2d3748
    style D fill:#2d3748
    style E fill:#2d3748
    style F fill:#2d3748
    style G fill:#2d3748
    style H fill:#2d3748
```
<figcaption className="mermaid-diagram figcaption">
ÙÙ„Ùˆ Ú†Ø§Ø±Ù¹ Ù…Ø®ØªÙ„Ù communication patterns Ú©Û’ Ø³Ø§ØªÚ¾ ROS2 building blocks Ø¯Ú©Ú¾Ø§ Ø±ÛØ§ ÛÛ’: Camera Driver node Image Processing Ø§ÙˆØ± Object Detection nodes Ø¯ÙˆÙ†ÙˆÚº Ú©Ùˆ topics Ú©Û’ Ø°Ø±ÛŒØ¹Û’ images publish Ú©Ø±ØªØ§ ÛÛ’ (publish-subscribe)ØŒ Navigation Client service Ú©Û’ Ø°Ø±ÛŒØ¹Û’ Path Planner Ø³Û’ path request Ú©Ø±ØªØ§ ÛÛ’ (request-response)ØŒ Motion Client feedback Ú©Û’ Ø³Ø§ØªÚ¾ action Ú©Û’ Ø°Ø±ÛŒØ¹Û’ Navigation Server Ú©Ùˆ navigation goals Ø¨Ú¾ÛŒØ¬ØªØ§ ÛÛ’ØŒ Ø³Ø¨ Ú©Ú†Ú¾ communication characteristics Ú©Ùˆ control Ú©Ø±Ù†Û’ ÙˆØ§Ù„Û’ QoS profiles Ú©Û’ Ø³Ø§ØªÚ¾Û”
</figcaption>
</div>

## Ú©ÙˆÚˆ Ú©ÛŒ Ù…Ø«Ø§Ù„

Ø¢Ø¦ÛŒÛ’ Ø¯ÛŒÚ©Ú¾ØªÛ’ ÛÛŒÚº Ú©Û Ù…Ø®ØªÙ„Ù communication patterns Ú©Û’ Ø³Ø§ØªÚ¾ nodes Ú©Ùˆ Ú©ÛŒØ³Û’ implement Ú©ÛŒØ§ Ø¬Ø§Ø¦Û’ØŒ Ø¬Ùˆ Ø­Ù‚ÛŒÙ‚ÛŒ robotic system Ú©ÛŒ Ø·Ø±Ø­ structured ÛÙˆÚº:

```python
#!/usr/bin/env python3
"""
ROS2 Building Blocks Implementation - Nodes, Topics, Services, Actions
ROS2, rclpy, and standard libraries only - no hardware required
Purpose: Learn ROS2 communication patterns without physical robot

Learning Objectives:
- Understand how to create nodes with different communication patterns
- Learn to implement publishers, subscribers, services, and actions
- Practice proper resource management in ROS2 nodes
- See how QoS profiles affect communication

Prerequisites:
- Chapter 1 concepts (Physical AI fundamentals)
- Chapter 2 concepts (basic Python knowledge)
- Chapter 3 concepts (three-tier architecture)
- Chapter 4 concepts (ROS2 architecture)
- Basic Python and ROS 2 knowledge

Expected Output:
- Multiple nodes demonstrating different communication patterns
- Proper QoS configuration for different use cases
- Understanding of resource management in ROS2
"""

import rclpy
from rclpy.node import Node
from rclpy.qos import QoSProfile, ReliabilityPolicy, DurabilityPolicy, HistoryPolicy
from std_msgs.msg import String, Float32
from sensor_msgs.msg import LaserScan
from geometry_msgs.msg import Twist
from example_interfaces.srv import SetBool
from example_interfaces.action import Fibonacci
from rclpy.action import ActionServer, ActionClient
from rclpy.callback_groups import MutuallyExclusiveCallbackGroup
from rclpy.executors import MultiThreadedExecutor
import threading
import time
import math
from typing import Optional

class SensorNode(Node):
    """
    Sensor Node: Demonstrates topic publishing with different QoS profiles.
    This node simulates various sensor types with appropriate QoS settings.
    """

    def __init__(self):
        super().__init__('sensor_node')

        # Create different publishers for different sensor types with appropriate QoS

        # High-frequency sensor data (camera, IMU) - BEST_EFFORT, KEEP_LAST
        qos_sensor = QoSProfile(
            depth=5,
            reliability=ReliabilityPolicy.BEST_EFFORT,
            durability=DurabilityPolicy.VOLATILE,
            history=HistoryPolicy.KEEP_LAST
        )
        self.camera_publisher = self.create_publisher(String, 'camera/data', qos_sensor)

        # Critical safety data - RELIABLE, KEEP_ALL
        qos_critical = QoSProfile(
            depth=10,
            reliability=ReliabilityPolicy.RELIABLE,
            durability=DurabilityPolicy.VOLATILE,
            history=HistoryPolicy.KEEP_ALL
        )
        self.emergency_publisher = self.create_publisher(String, 'emergency/stop', qos_critical)

        # Environmental data - RELIABLE, KEEP_LAST
        qos_env = QoSProfile(
            depth=10,
            reliability=ReliabilityPolicy.RELIABLE,
            durability=DurabilityPolicy.VOLATILE,
            history=HistoryPolicy.KEEP_LAST
        )
        self.environment_publisher = self.create_publisher(String, 'environment/data', qos_env)

        # Timers for different data types
        self.camera_timer = self.create_timer(0.1, self.publish_camera_data)  # 10Hz
        self.emergency_timer = self.create_timer(1.0, self.publish_emergency_data)  # 1Hz
        self.environment_timer = self.create_timer(2.0, self.publish_environment_data)  # 0.5Hz

        self.get_logger().info('ğŸ“¡ Sensor Node initialized with multiple QoS profiles')
        self.get_logger().info('Publishing camera data at 10Hz, emergency at 1Hz, environment at 0.5Hz')

    def publish_camera_data(self):
        """Publish high-frequency camera simulation data"""
        msg = String()
        msg.data = f"Camera frame {int(time.time() * 10)} - RGB-D data"
        self.camera_publisher.publish(msg)
        self.get_logger().debug(f'ğŸ“¸ Camera: {msg.data}')

    def publish_emergency_data(self):
        """Publish critical safety data"""
        msg = String()
        msg.data = f"Emergency status: OK - {time.time()}"
        self.emergency_publisher.publish(msg)
        self.get_logger().info(f'ğŸš¨ Emergency: {msg.data}')

    def publish_environment_data(self):
        """Publish environmental data"""
        msg = String()
        msg.data = f"Environment: Temperature 22Â°C, Humidity 45% - {time.time()}"
        self.environment_publisher.publish(msg)
        self.get_logger().info(f'ğŸŒ¡ï¸  Environment: {msg.data}')

class ProcessingNode(Node):
    """
    Processing Node: Demonstrates multiple subscribers with appropriate QoS matching publishers.
    This node processes data from multiple sources and demonstrates proper resource management.
    """

    def __init__(self):
        super().__init__('processing_node')

        # Create subscribers that match publisher QoS profiles
        qos_sensor = QoSProfile(
            depth=5,
            reliability=ReliabilityPolicy.BEST_EFFORT,
            durability=DurabilityPolicy.VOLATILE
        )
        self.camera_subscriber = self.create_subscription(
            String, 'camera/data', self.camera_callback, qos_sensor)

        qos_critical = QoSProfile(
            depth=10,
            reliability=ReliabilityPolicy.RELIABLE,
            durability=DurabilityPolicy.VOLATILE
        )
        self.emergency_subscriber = self.create_subscription(
            String, 'emergency/stop', self.emergency_callback, qos_critical)

        self.environment_subscriber = self.create_subscription(
            String, 'environment/data', self.environment_callback, qos_sensor)

        # Publisher for processed data
        self.processed_publisher = self.create_publisher(String, 'processed/data', 10)

        self.get_logger().info('ğŸ§  Processing Node initialized with multiple subscribers')

    def camera_callback(self, msg):
        """Process high-frequency camera data"""
        # Simulate image processing
        processed_msg = String()
        processed_msg.data = f"Processed: {msg.data} - Objects detected"
        self.processed_publisher.publish(processed_msg)
        self.get_logger().debug(f'ğŸ§  Processed camera: {processed_msg.data}')

    def emergency_callback(self, msg):
        """Process critical safety data immediately"""
        self.get_logger().warn(f'ğŸš¨ CRITICAL: {msg.data}')
        # In a real system, this might trigger immediate safety responses

    def environment_callback(self, msg):
        """Process environmental data"""
        self.get_logger().info(f'ğŸŒ¡ï¸  Environmental: {msg.data}')

class ServiceNode(Node):
    """
    Service Node: Demonstrates service server implementation.
    This node provides synchronous operations that require immediate responses.
    """

    def __init__(self):
        super().__init__('service_node')

        # Create service servers
        self.get_robot_state_service = self.create_service(
            SetBool, 'get_robot_state', self.get_robot_state_callback)

        self.set_parameter_service = self.create_service(
            SetBool, 'set_robot_mode', self.set_robot_mode_callback)

        self.get_logger().info('âš™ï¸  Service Node initialized with service servers')

    def get_robot_state_callback(self, request, response):
        """Handle robot state requests"""
        # Simulate checking robot state
        response.success = True
        response.message = f"Robot is operational - Mode: {request.data}"
        self.get_logger().info(f'âš™ï¸  Robot state requested: {response.message}')
        return response

    def set_robot_mode_callback(self, request, response):
        """Handle robot mode setting"""
        mode = "ACTIVE" if request.data else "STANDBY"
        response.success = True
        response.message = f"Robot mode set to: {mode}"
        self.get_logger().info(f'âš™ï¸  Robot mode changed: {mode}')
        return response

class ActionNode(Node):
    """
    Action Node: Demonstrates action server implementation.
    This node handles long-running operations with feedback and result reporting.
    """

    def __init__(self):
        super().__init__('action_node')

        # Create action server
        self._action_server = ActionServer(
            self,
            Fibonacci,
            'fibonacci_sequence',
            self.execute_fibonacci_callback
        )

        self.get_logger().info('ğŸ§© Action Node initialized with action server')

    def execute_fibonacci_callback(self, goal_handle):
        """Execute the Fibonacci action with feedback"""
        self.get_logger().info(f'ğŸ§© Executing Fibonacci sequence - order: {goal_handle.request.order}')

        # Initialize feedback and result
        feedback_msg = Fibonacci.Feedback()
        result_msg = Fibonacci.Result()

        # Start with first two numbers
        feedback_msg.sequence = [0, 1]

        # Check if goal is small
        if goal_handle.request.order <= 1:
            if goal_handle.request.order == 0:
                feedback_msg.sequence = [0]
            else:
                feedback_msg.sequence = [0, 1]
            goal_handle.succeed()
            result_msg.sequence = feedback_msg.sequence
            return result_msg

        # Calculate Fibonacci sequence with feedback
        for i in range(1, goal_handle.request.order):
            # Check for cancelation
            if goal_handle.is_cancel_requested:
                goal_handle.canceled()
                result_msg.sequence = feedback_msg.sequence
                self.get_logger().info('ğŸ§© Fibonacci action canceled')
                return result_msg

            # Calculate next number in sequence
            next_num = feedback_msg.sequence[i] + feedback_msg.sequence[i-1]
            feedback_msg.sequence.append(next_num)

            # Publish feedback
            self.get_logger().info(f'ğŸ§© Fibonacci progress: {i}/{goal_handle.request.order}')
            goal_handle.publish_feedback(feedback_msg)

            # Simulate processing time
            time.sleep(0.5)

        # Complete successfully
        goal_handle.succeed()
        result_msg.sequence = feedback_msg.sequence
        self.get_logger().info(f'ğŸ§© Fibonacci completed: {result_msg.sequence}')
        return result_msg

class ClientNode(Node):
    """
    Client Node: Demonstrates service and action clients.
    This node demonstrates how to interact with services and actions as a client.
    """

    def __init__(self):
        super().__init__('client_node')

        # Create service client
        self.robot_state_client = self.create_client(SetBool, 'get_robot_state')

        # Create action client
        self.action_client = ActionClient(self, Fibonacci, 'fibonacci_sequence')

        # Timer to periodically make requests
        self.client_timer = self.create_timer(5.0, self.make_requests)

        # Wait for services and actions to be available
        while not self.robot_state_client.wait_for_service(timeout_sec=1.0):
            self.get_logger().info('ğŸ¤– Waiting for robot state service...')

        self.get_logger().info('ğŸ¤– Client Node initialized with service and action clients')

    def make_requests(self):
        """Make service and action requests periodically"""
        self.get_logger().info('ğŸ¤– Making service request...')

        # Make service request
        request = SetBool.Request()
        request.data = True
        future = self.robot_state_client.call_async(request)
        future.add_done_callback(self.service_response_callback)

        # Make action request
        self.send_action_goal()

    def service_response_callback(self, future):
        """Handle service response"""
        try:
            response = future.result()
            self.get_logger().info(f'ğŸ¤– Service response: {response.message}')
        except Exception as e:
            self.get_logger().error(f'ğŸ¤– Service call failed: {e}')

    def send_action_goal(self):
        """Send action goal"""
        goal_msg = Fibonacci.Goal()
        goal_msg.order = 5  # Calculate first 5 Fibonacci numbers

        self.get_logger().info('ğŸ¤– Sending action goal...')
        self.action_client.wait_for_server()
        send_goal_future = self.action_client.send_goal_async(
            goal_msg,
            feedback_callback=self.action_feedback_callback
        )
        send_goal_future.add_done_callback(self.action_response_callback)

    def action_feedback_callback(self, feedback_msg):
        """Handle action feedback"""
        self.get_logger().info(f'ğŸ¤– Action feedback: {feedback_msg.feedback.sequence}')

    def action_response_callback(self, future):
        """Handle action response"""
        goal_handle = future.result()
        if not goal_handle.accepted:
            self.get_logger().info('ğŸ¤– Action goal rejected')
            return

        self.get_logger().info('ğŸ¤– Action goal accepted, getting result...')
        get_result_future = goal_handle.get_result_async()
        get_result_future.add_done_callback(self.action_result_callback)

    def action_result_callback(self, future):
        """Handle action result"""
        result = future.result().result
        self.get_logger().info(f'ğŸ¤– Action result: {result.sequence}')

def main(args=None):
    """
    Main function to demonstrate ROS2 building blocks
    This simulates how different communication patterns work together
    """
    rclpy.init(args=args)

    # Create nodes for different communication patterns
    sensor_node = SensorNode()
    processing_node = ProcessingNode()
    service_node = ServiceNode()
    action_node = ActionNode()
    client_node = ClientNode()

    # Use MultiThreadedExecutor to run all nodes simultaneously
    executor = MultiThreadedExecutor(num_threads=5)
    executor.add_node(sensor_node)
    executor.add_node(processing_node)
    executor.add_node(service_node)
    executor.add_node(action_node)
    executor.add_node(client_node)

    try:
        sensor_node.get_logger().info('ğŸ—ï¸  ROS2 building blocks operational')
        sensor_node.get_logger().info('All communication patterns active: Topics, Services, Actions')

        # Spin the executor
        executor.spin()

    except KeyboardInterrupt:
        sensor_node.get_logger().info('ğŸ›‘ Shutting down ROS2 building blocks system')
    finally:
        executor.shutdown()
        rclpy.shutdown()

if __name__ == '__main__':
    main()
```

## Ù…Ø´Ù‚ÛŒÚº

1. **QoS Profile Design**: cameraØŒ LIDARØŒ IMUØŒ Ø§ÙˆØ± emergency stop button ÙˆØ§Ù„Û’ mobile robot Ú©Û’ Ù„ÛŒÛ’ØŒ ÛØ± sensor type Ú©Û’ Ù„ÛŒÛ’ Ù…Ù†Ø§Ø³Ø¨ QoS profiles design Ú©Ø±ÛŒÚºÛ” reliabilityØŒ durabilityØŒ Ø§ÙˆØ± history settings Ú©Û’ Ù„ÛŒÛ’ Ø§Ù¾Ù†Û’ Ø§Ù†ØªØ®Ø§Ø¨ Ú©ÛŒ ÙˆØ¶Ø§Ø­Øª Ú©Ø±ÛŒÚºÛ”

2. **Node Architecture Design**: robot Ú©Û’ Ù„ÛŒÛ’ node architecture design Ú©Ø±ÛŒÚº Ø¬Ø³Û’ Ø±Ú©Ø§ÙˆÙ¹ÙˆÚº Ø³Û’ Ø¨Ú†ØªÛ’ ÛÙˆØ¦Û’ waypoints Ù¾Ø± navigate Ú©Ø±Ù†Û’ Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª ÛÛ’Û” Ø¢Ù¾ Ú©ÙˆÙ† Ø³Û’ nodes Ø¨Ù†Ø§Ø¦ÛŒÚº Ú¯Û’ØŒ ÙˆÛ Ú©ÙˆÙ† Ø³Û’ communication patterns Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚº Ú¯Û’ØŒ Ø§ÙˆØ± Ú©ÛŒØ³Û’ interact Ú©Ø±ÛŒÚº Ú¯Û’Û”

3. **Communication Pattern Selection**: Ù…Ù†Ø¯Ø±Ø¬Û Ø°ÛŒÙ„ scenarios Ù…ÛŒÚº Ø³Û’ ÛØ± Ø§ÛŒÚ© Ú©Û’ Ù„ÛŒÛ’ØŒ Ø³Ø¨ Ø³Û’ Ù…Ù†Ø§Ø³Ø¨ communication pattern Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº (topicØŒ serviceØŒ ÛŒØ§ action) Ø§ÙˆØ± Ø§Ù¾Ù†ÛŒ reasoning Ú©ÛŒ ÙˆØ¶Ø§Ø­Øª Ú©Ø±ÛŒÚº:
   - Robot Ú©ÛŒ Ù…ÙˆØ¬ÙˆØ¯Û position request Ú©Ø±Ù†Ø§
   - Camera images publish Ú©Ø±Ù†Ø§
   - Ù…Ø®ØµÙˆØµ location Ù¾Ø± navigation goal Ø¨Ú¾ÛŒØ¬Ù†Ø§
   - Robot parameters update Ú©Ø±Ù†Ø§
   - Battery level broadcast Ú©Ø±Ù†Ø§

4. **Resource Management**: ROS2 nodes Ù…ÛŒÚº resources Ú©Ùˆ Ù…Ù†Ø§Ø³Ø¨ Ø·Ø±ÛŒÙ‚Û’ Ø³Û’ manage Ú©Ø±Ù†Û’ Ú©Ø§ Ø·Ø±ÛŒÙ‚Û Ø¨ÛŒØ§Ù† Ú©Ø±ÛŒÚºÛ” InitializationØŒ runtimeØŒ Ø§ÙˆØ± cleanup phases Ú©Û’ Ø¯ÙˆØ±Ø§Ù† Ú©ÛŒØ§ Ú©Ø±Ù†Ø§ Ú†Ø§ÛÛŒÛ’ØŸ

5. **Error Handling**: Ø¢Ù¾ safety-critical robotic system Ù…ÛŒÚº services Ø§ÙˆØ± actions Ú©Û’ Ù„ÛŒÛ’ error handling Ú©ÛŒØ³Û’ implement Ú©Ø±ÛŒÚº Ú¯Û’ØŸ Ø¢Ù¾ Ú©ÙˆÙ† Ø³ÛŒ strategies Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚº Ú¯Û’ØŸ

<details>
<summary>Ù…Ø´Ù‚ Ú©Û’ Ø­Ù„</summary>

1. **QoS Profile Design Ú©Ø§ Ø­Ù„**:
   - Camera: BEST_EFFORTØŒ VOLATILEØŒ KEEP_LAST(depth=5) - real-time performance Ú©Û’ Ù„ÛŒÛ’ Ú©Ú†Ú¾ frame loss Ù‚Ø§Ø¨Ù„ Ù‚Ø¨ÙˆÙ„
   - LIDAR: RELIABLEØŒ VOLATILEØŒ KEEP_LAST(depth=1) - navigation Ú©Û’ Ù„ÛŒÛ’ data loss Ù†ÛÛŒÚºØŒ ØµØ±Ù ØªØ§Ø²Û ØªØ±ÛŒÙ† scan Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª
   - IMU: RELIABLEØŒ VOLATILEØŒ KEEP_LAST(depth=10) - control Ú©Û’ Ù„ÛŒÛ’ criticalØŒ processing Ú©Û’ Ù„ÛŒÛ’ Ú†Ú¾ÙˆÙ¹Ø§ buffer
   - Emergency stop: RELIABLEØŒ VOLATILEØŒ KEEP_ALL - Ø¶Ø±ÙˆØ± deliver ÛÙˆÙ†Ø§ Ú†Ø§ÛÛŒÛ’ØŒ ØªÙ…Ø§Ù… events Ù…Ø­ÙÙˆØ¸

2. **Node Architecture Design Ú©Ø§ Ø­Ù„**:
   - Navigation Node: Navigation goals Ú©Û’ Ù„ÛŒÛ’ action serverØŒ sensor data Ú©Ùˆ subscribes
   - Obstacle Detection Node: LIDAR/camera Ú©Ùˆ subscribesØŒ obstacle information publishes
   - Path Planner Node: Path planning Ú©Û’ Ù„ÛŒÛ’ serviceØŒ map Ø§ÙˆØ± goal Ú©Ùˆ subscribes
   - Controller Node: Navigation commands Ú©Ùˆ subscribesØŒ motors Ú©Ùˆ publishes
   - Sensor Drivers: Sensor data Ú©Ùˆ topics Ú©Û’ Ø·ÙˆØ± Ù¾Ø± publish Ú©Ø±ØªÛ’ ÛÛŒÚº
   - State Estimation: Sensors Ú©Ùˆ subscribesØŒ robot pose publishes

3. **Communication Pattern Selection Ú©Ø§ Ø­Ù„**:
   - Robot position request Ú©Ø±Ù†Ø§: Service (synchronous request-response Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª)
   - Camera images publish Ú©Ø±Ù†Ø§: Topic (Ù…Ø³Ù„Ø³Ù„ data streamØŒ Ù…ØªØ¹Ø¯Ø¯ subscribers)
   - Navigation goal: Action (feedback Ú©Û’ Ø³Ø§ØªÚ¾ long-running operation)
   - Parameters update Ú©Ø±Ù†Ø§: Service (synchronous confirmation Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª)
   - Battery broadcast Ú©Ø±Ù†Ø§: Topic (Ù…Ø³Ù„Ø³Ù„ monitoringØŒ Ù…ØªØ¹Ø¯Ø¯ subscribers)

4. **Resource Management Ú©Ø§ Ø­Ù„**:
   - Initialization: PublishersØŒ subscribersØŒ servicesØŒ actions Ø¨Ù†Ø§Ø¦ÛŒÚºØ› internal state initialize Ú©Ø±ÛŒÚº
   - Runtime: Callbacks process Ú©Ø±ÛŒÚºØŒ timers manage Ú©Ø±ÛŒÚºØŒ data flow Ø³Ù†Ø¨Ú¾Ø§Ù„ÛŒÚº
   - Cleanup: Publishers/subscribers Ú©Ùˆ Ù…Ù†Ø§Ø³Ø¨ Ø·Ø±ÛŒÙ‚Û’ Ø³Û’ destroy Ú©Ø±ÛŒÚºØŒ resources release Ú©Ø±ÛŒÚºØŒ shutdown Ú©Ùˆ gracefully Ø³Ù†Ø¨Ú¾Ø§Ù„ÛŒÚº

5. **Error Handling Ú©Ø§ Ø­Ù„**:
   - Services: Error codes/messages ÙˆØ§Ù¾Ø³ Ú©Ø±ÛŒÚºØŒ timeouts implement Ú©Ø±ÛŒÚºØŒ retry mechanisms
   - Actions: Goal cancelation Ø³Ù†Ø¨Ú¾Ø§Ù„ÛŒÚºØŒ error feedback ÙØ±Ø§ÛÙ… Ú©Ø±ÛŒÚºØŒ timeouts implement Ú©Ø±ÛŒÚº
   - Ø¹Ù…ÙˆÙ…ÛŒ: Try-catch blocks Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºØŒ errors Ú©Ùˆ Ù…Ù†Ø§Ø³Ø¨ Ø·Ø±ÛŒÙ‚Û’ Ø³Û’ log Ú©Ø±ÛŒÚºØŒ fallback behaviors implement Ú©Ø±ÛŒÚº

</details>

## Ø®Ù„Ø§ØµÛ

ROS2 building blocks ÙØ²ÛŒÚ©Ù„ AI systems Ú©Û’ Ù„ÛŒÛ’ Ø¨Ù†ÛŒØ§Ø¯ÛŒ communication patterns ÙØ±Ø§ÛÙ… Ú©Ø±ØªÛ’ ÛÛŒÚº:

1. **Nodes**: Ù…Ø®ØµÙˆØµ functions Ø§Ù†Ø¬Ø§Ù… Ø¯ÛŒÙ†Û’ ÙˆØ§Ù„Û’ Ø¨Ù†ÛŒØ§Ø¯ÛŒ processing units Ù…Ù†Ø§Ø³Ø¨ lifecycle management Ø§ÙˆØ± resource handling Ú©Û’ Ø³Ø§ØªÚ¾Û”

2. **Topics**: Configurable Quality of Service settings Ú©Û’ Ø³Ø§ØªÚ¾ Ù…Ø³Ù„Ø³Ù„ data sharing Ú©Û’ Ù„ÛŒÛ’ Publish-subscribe patternÛ”

3. **Services**: ÙÙˆØ±ÛŒ responses Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª ÙˆØ§Ù„Û’ operations Ú©Û’ Ù„ÛŒÛ’ Synchronous request-response communicationÛ”

4. **Actions**: Ù…Ø³Ù„Ø³Ù„ monitoring Ú©Û’ Ø³Ø§ØªÚ¾ long-running operations Ú©Û’ Ù„ÛŒÛ’ Goal-feedback-result patternÛ”

5. **QoS Profiles**: ReliabilityØŒ durabilityØŒ Ø§ÙˆØ± history settings Ø³Ù…ÛŒØª configurable communication characteristicsÛ”

6. **Pattern Selection**: ÛØ± communication pattern timingØŒ data flowØŒ Ø§ÙˆØ± interaction requirements Ú©ÛŒ Ø¨Ù†ÛŒØ§Ø¯ Ù¾Ø± Ù…Ø®ØµÙˆØµ use cases Ú©Û’ Ù„ÛŒÛ’ Ù…Ù†Ø§Ø³Ø¨ ÛÛ’Û”

ÛŒÛ building blocks Ø³Ø§Ø¯ÛØŒ Ø§Ú†Ú¾ÛŒ Ø·Ø±Ø­ Ù…ØªØ¹ÛŒÙ† interactions Ú©Û’ Ø°Ø±ÛŒØ¹Û’ Ù¾ÛŒÚ†ÛŒØ¯Û robotic systems Ú©ÛŒ ØªØ®Ù„ÛŒÙ‚ Ú©Ùˆ Ù…Ù…Ú©Ù† Ø¨Ù†Ø§ØªÛ’ ÛÛŒÚºÛ” Ù…Ù†Ø§Ø³Ø¨ QoS settings Ú©Û’ Ø³Ø§ØªÚ¾ Ø§Ù† components Ú©Ø§ ØµØ­ÛŒØ­ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ù…Ø¶Ø¨ÙˆØ·ØŒ maintainableØŒ Ø§ÙˆØ± Ù…ÙˆØ«Ø± robotic applications ÛŒÙ‚ÛŒÙ†ÛŒ Ø¨Ù†Ø§ØªØ§ ÛÛ’ Ø¬Ùˆ single robots Ø³Û’ multi-robot systems ØªÚ© scale ÛÙˆØªÛŒ ÛÛŒÚºÛ”

## Ø­ØµÛ 2 Ú©ÙˆØ¦Ø²

<Quiz
  id="chapter-5-quiz"
  chapterReference="Chapter 5: Nodes, Topics, Services"
  questions={[
    {
      id: "ch5-q1",
      question: "ROS2 Ù…ÛŒÚº QoS (Quality of Service) profiles Ú©Ø§ Ø¨Ù†ÛŒØ§Ø¯ÛŒ Ù…Ù‚ØµØ¯ Ú©ÛŒØ§ ÛÛ’ØŸ",
      type: "multiple-choice",
      options: [
        "ROS2 communications encrypt Ú©Ø±Ù†Ø§",
        "Reliability Ø§ÙˆØ± durability Ø¬ÛŒØ³ÛŒ communication characteristics control Ú©Ø±Ù†Ø§",
        "Nodes Ú©ÛŒ ØªØ¹Ø¯Ø§Ø¯ Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ù†Ø§",
        "Message data compress Ú©Ø±Ù†Ø§"
      ],
      correctAnswer: 1,
      hint: "Ø¨Ø§Ø¨ 5ØŒ 'ØªØµÙˆØ±' Ø³ÛŒÚ©Ø´Ù† Ø¯ÛŒÚ©Ú¾ÛŒÚº - Quality of Service (QoS) Profiles",
      explanation: "QoS profiles application requirements Ú©ÛŒ Ø¨Ù†ÛŒØ§Ø¯ Ù¾Ø± reliabilityØŒ durabilityØŒ Ø§ÙˆØ± history settings Ø¬ÛŒØ³ÛŒ communication characteristics control Ú©Ø±ØªÛ’ ÛÛŒÚºÛ”"
    },
    {
      id: "ch5-q2",
      question: "Camera images publish Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ú©ÙˆÙ† Ø³Ø§ communication pattern Ø³Ø¨ Ø³Û’ Ù…Ù†Ø§Ø³Ø¨ ÛÛ’ØŸ",
      type: "multiple-choice",
      options: [
        "Service",
        "Action",
        "Topic",
        "Parameter"
      ],
      correctAnswer: 2,
      hint: "Ø¨Ø§Ø¨ 5ØŒ 'ØªØµÙˆØ±' Ø³ÛŒÚ©Ø´Ù† Ø¯ÛŒÚ©Ú¾ÛŒÚº - Communication Pattern Selection",
      explanation: "Topics Ù…Ø³Ù„Ø³Ù„ data streams Ø¬ÛŒØ³Û’ camera images Ú©Û’ Ù„ÛŒÛ’ Ù…Ø«Ø§Ù„ÛŒ ÛÛŒÚº Ø¬ÛØ§Úº Ù…ØªØ¹Ø¯Ø¯ nodes Ú©Ùˆ Ø§ÛŒÚ© ÛÛŒ data Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª ÛÙˆ Ø³Ú©ØªÛŒ ÛÛ’Û”"
    },
    {
      id: "ch5-q3",
      question: "ROS2 Ù…ÛŒÚº 'RELIABLE' reliability policy Ú©ÛŒØ§ guarantee Ú©Ø±ØªÛŒ ÛÛ’ØŸ",
      type: "multiple-choice",
      options: [
        "Messages ØªØ±ØªÛŒØ¨ Ù…ÛŒÚº deliver ÛÙˆÚº Ú¯Û’",
        "Messages Ú©Ù… Ø§Ø² Ú©Ù… Ø§ÛŒÚ© Ø¨Ø§Ø± deliver ÛÙˆÚº Ú¯Û’",
        "Messages Ø¨Ø§Ù„Ú©Ù„ Ø§ÛŒÚ© Ø¨Ø§Ø± deliver ÛÙˆÚº Ú¯Û’",
        "Messages Ø§ÛŒÚ© Ù…Ø®ØµÙˆØµ rate Ù¾Ø± deliver ÛÙˆÚº Ú¯Û’"
      ],
      correctAnswer: 1,
      hint: "Ø¨Ø§Ø¨ 5ØŒ 'ØªØµÙˆØ±' Ø³ÛŒÚ©Ø´Ù† Ø¯ÛŒÚ©Ú¾ÛŒÚº - Quality of Service (QoS) Profiles",
      explanation: "RELIABLE policy guarantee Ú©Ø±ØªÛŒ ÛÛ’ Ú©Û messages Ú©Ù… Ø§Ø² Ú©Ù… Ø§ÛŒÚ© Ø¨Ø§Ø± deliver ÛÙˆÚº Ú¯Û’ØŒ Ø§Ú¯Ø±Ú†Û duplicates ÛÙˆ Ø³Ú©ØªÛ’ ÛÛŒÚºÛ”"
    },
    {
      id: "ch5-q4",
      question: "Feedback ÙØ±Ø§ÛÙ… Ú©Ø±Ù†Û’ ÙˆØ§Ù„Û’ long-running navigation task Ú©Û’ Ù„ÛŒÛ’ Ú©ÙˆÙ† Ø³Ø§ communication pattern Ø¨ÛØªØ±ÛŒÙ† ÛÛ’ØŸ",
      type: "multiple-choice",
      options: [
        "Topic",
        "Service",
        "Action",
        "Parameter"
      ],
      correctAnswer: 2,
      hint: "Ø¨Ø§Ø¨ 5ØŒ 'ØªØµÙˆØ±' Ø³ÛŒÚ©Ø´Ù† Ø¯ÛŒÚ©Ú¾ÛŒÚº - Communication Pattern Selection",
      explanation: "Actions long-running operations Ú©Û’ Ù„ÛŒÛ’ design Ú©ÛŒÛ’ Ú¯Ø¦Û’ ÛÛŒÚº Ø¬Ù† Ú©Ùˆ continuous feedback Ø§ÙˆØ± goal management Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª ÛÛ’Û”"
    },
    {
      id: "ch5-q5",
      question: "ROS2 Ù…ÛŒÚº services Ø§ÙˆØ± actions Ú©Û’ Ø¯Ø±Ù…ÛŒØ§Ù† Ø¨Ù†ÛŒØ§Ø¯ÛŒ ÙØ±Ù‚ Ú©ÛŒØ§ ÛÛ’ØŸ",
      type: "multiple-choice",
      options: [
        "Services actions Ø³Û’ ØªÛŒØ² ÛÛŒÚº",
        "Services synchronous ÛÛŒÚº Ø¬Ø¨Ú©Û actions feedback Ú©Û’ Ø³Ø§ØªÚ¾ asynchronous ÛÛŒÚº",
        "Services Ø§ÛŒÚ© Ø³Ø§ØªÚ¾ Ù…ØªØ¹Ø¯Ø¯ requests Ø³Ù†Ø¨Ú¾Ø§Ù„ Ø³Ú©ØªÛŒ ÛÛŒÚº",
        "Actions Ú©Ù… network bandwidth Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ØªÛ’ ÛÛŒÚº"
      ],
      correctAnswer: 1,
      hint: "Ø¨Ø§Ø¨ 5ØŒ 'ØªØµÙˆØ±' Ø³ÛŒÚ©Ø´Ù† Ø¯ÛŒÚ©Ú¾ÛŒÚº - Services Ø¨Ù…Ù‚Ø§Ø¨Ù„Û Actions",
      explanation: "Services synchronous request-response operations ÛÛŒÚº Ø¬Ø¨Ú©Û actions continuous feedback Ú©Û’ Ø³Ø§ØªÚ¾ asynchronous ÛÛŒÚºÛ”"
    }
  ]}
/>

## Ø§Ú¯Ù„Û’ Ø¨Ø§Ø¨ Ú©Ø§ Ù¾ÛŒØ´ Ù†Ø¸Ø±

Ø¨Ø§Ø¨ 6: Python rclpy Ù…ÛŒÚºØŒ ÛÙ… ROS2 Ú©Û’ Ù„ÛŒÛ’ Python client library Ú©Ùˆ ØªÙØµÛŒÙ„ Ø³Û’ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±ÛŒÚº Ú¯Û’Û” Ø¢Ù¾ Python Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø± Ú©Û’ sophisticated ROS2 nodes Ø¨Ù†Ø§Ù†Ø§ØŒ parameters Ø§ÙˆØ± timers Ø¬ÛŒØ³ÛŒ advanced features implement Ú©Ø±Ù†Ø§ØŒ Ø§ÙˆØ± Ø­Ù‚ÛŒÙ‚ÛŒ hardware components Ú©Û’ Ø³Ø§ØªÚ¾ integrate Ú©Ø±Ù†Ø§ Ø³ÛŒÚ©Ú¾ÛŒÚº Ú¯Û’Û” ÛŒÛ Ø¢Ù¾ Ú©Ùˆ Ø§Ø³ Ø¨Ø§Ø¨ Ù…ÛŒÚº Ø³ÛŒÚ©Ú¾Û’ Ú¯Ø¦Û’ building blocks Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø± Ú©Û’ production-ready robotic applications Ø¨Ù†Ø§Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ ØªÛŒØ§Ø± Ú©Ø±Û’ Ú¯Ø§ØŒ Ø¢Ù¾ Ú©ÛŒ ROS2 skills Ú©Ùˆ theoretical understanding Ø³Û’ practical implementation ØªÚ© Ù„Û’ Ø¬Ø§ØªÛ’ ÛÙˆØ¦Û’Û”
